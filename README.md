# 1C Session Manager

–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–µ—Å—Å–∏–π 1–°:–ü—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–µ —á–µ—Ä–µ–∑ RAC (Remote Administration Console).

## üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è –Ω–æ–≤–∏—á–∫–∞

–ó–¥–µ—Å—å –æ–ø–∏—Å–∞–Ω–æ, –∫–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –∫–∞–∫ —Å–æ–±—Ä–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π —Ñ–∞–π–ª –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

### üõ†Ô∏è –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–æ–¥–∏–Ω —Ä–∞–∑)

1.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã:**
    *   [Node.js](https://nodejs.org/) (–≤–µ—Ä—Å–∏—è LTS) ‚Äî –¥–ª—è —Ä–∞–±–æ—Ç—ã —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (UI).
    *   [.NET SDK 10](https://dotnet.microsoft.com/download/dotnet/10.0) ‚Äî –¥–ª—è —Ä–∞–±–æ—Ç—ã –±—ç–∫–µ–Ω–¥–∞.
    *   [SQL Server Express](https://www.microsoft.com/sql-server/sql-server-downloads) ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–≤—ã–±–µ—Ä–∏—Ç–µ Express –≤–µ—Ä—Å–∏—é).

2.  **–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –ø—Ä–æ–µ–∫—Ç:**
    –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ –æ—á–µ—Ä–µ–¥–∏:

    ```powershell
    # 1. –ó–∞—Ö–æ–¥–∏–º –≤ –ø–∞–ø–∫—É UI –∏ —Å—Ç–∞–≤–∏–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
    cd ui
    npm install

    # 2. –í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –≤ –∫–æ—Ä–µ–Ω—å
    cd ..
    ```

---

### üíª –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (Development)

–í —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É —É —Å–µ–±—è –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ, —á—Ç–æ–±—ã –ø–∏—Å–∞—Ç—å –∫–æ–¥ –∏ —Å—Ä–∞–∑—É –≤–∏–¥–µ—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è. –í–∞–º –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è **3 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞** (–æ–∫–Ω–∞ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏).

#### –¢–µ—Ä–º–∏–Ω–∞–ª 1: –ó–∞–ø—É—Å–∫ Frontend (UI)
–≠—Ç–æ—Ç —Ç–µ—Ä–º–∏–Ω–∞–ª –±—É–¥–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–¥–∞.

```powershell
cd ui
npm run dev
```
*   –û—Ç–∫—Ä–æ–µ—Ç —Å–∞–π—Ç –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:3000` (–ø–æ—Ä—Ç –∑–∞–¥–∞–Ω –≤ `ui/vite.config.ts`).
*   *–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –í —Ä–µ–∂–∏–º–µ dev UI —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –±—ç–∫–µ–Ω–¥–∞, –Ω–æ –±—É–¥–µ—Ç —Å—Ç—É—á–∞—Ç—å—Å—è –∫ –Ω–µ–º—É –ø–æ –∞–¥—Ä–µ—Å—É http://localhost:5000.*

#### –¢–µ—Ä–º–∏–Ω–∞–ª 2: –ó–∞–ø—É—Å–∫ Backend (Control)
–≠—Ç–æ "–º–æ–∑–≥" –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, API –∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä.

```powershell
cd dotnet
dotnet run --project src/1CSessionManager.Control
```
*   –ó–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ `http://localhost:5000`.
*   *–ß—Ç–æ–±—ã –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å:* –ù–∞–∂–º–∏—Ç–µ `Ctrl+C`, –∑–∞—Ç–µ–º —Å–Ω–æ–≤–∞ –≤–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É (—Å—Ç—Ä–µ–ª–∫–∞ –≤–≤–µ—Ä—Ö ‚Üë).

#### –¢–µ—Ä–º–∏–Ω–∞–ª 3: –ó–∞–ø—É—Å–∫ Agent
–≠—Ç–æ —Ñ–æ–Ω–æ–≤–∞—è —Å–ª—É–∂–±–∞, –∫–æ—Ç–æ—Ä–∞—è –æ–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä 1–°.

```powershell
cd dotnet
dotnet run --project src/1CSessionManager.Agent
```
*   *–ß—Ç–æ–±—ã –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å:* –ù–∞–∂–º–∏—Ç–µ `Ctrl+C`, –∑–∞—Ç–µ–º —Å–Ω–æ–≤–∞ –≤–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É.

---

### üì¶ –°–±–æ—Ä–∫–∞ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞ (Production)

–ö–æ–≥–¥–∞ –≤—ã –∑–∞–∫–æ–Ω—á–∏–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –∏ —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –æ–¥–∏–Ω —Ñ–∞–π–ª `.exe` –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ —Ä–∞–±–æ—á–∏–π —Å–µ—Ä–≤–µ—Ä.

1.  –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.
2.  –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É —Å–±–æ—Ä–∫–∏:

```powershell
cd dotnet
deploy\windows\build-installer.ps1
```

3.  **–ì–¥–µ –∏—Å–∫–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
    –§–∞–π–ª –ø–æ—è–≤–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ: `dotnet/out/1CSessionManager.Installer.exe`

4.  **–ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä:**
    *   –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `1CSessionManager.Installer.exe` –Ω–∞ —Å–µ—Ä–≤–µ—Ä.
    *   –ó–∞–ø—É—Å—Ç–∏—Ç–µ –µ–≥–æ –æ—Ç –∏–º–µ–Ω–∏ **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞**.
    *   –û–Ω —Å–∞–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç —Å–ª—É–∂–±—ã –∏ –∑–∞–ø—É—Å—Ç–∏—Ç –∏—Ö.
    *   –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É `C:\Program Files\1CSessionManager\control` –∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `appsettings.json` (—É–∫–∞–∂–∏—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î).

    –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º:

    ```powershell
    .\1CSessionManager.Installer.exe --install
    # –∏–ª–∏ –∑–∞–¥–∞—Ç—å –ø–∞–ø–∫—É —É—Å—Ç–∞–Ω–æ–≤–∫–∏ + –Ω–µ –∑–∞–ø—É—Å–∫–∞—Ç—å —Å–ª—É–∂–±—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
    .\1CSessionManager.Installer.exe --install --dir "D:\Apps\1CSessionManager" --no-start
    ```

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞ (–¥–ª—è –æ–ø—ã—Ç–Ω—ã—Ö)

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **Control** (.NET 10): ASP.NET Core API + —Ä–∞–∑–¥–∞—á–∞ UI
- **Agent** (.NET 10): Worker Service, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–∞—à–∏–≤–∞–µ—Ç RAC –∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Å–µ—Å—Å–∏–∏
- **UI**: React (Vite)

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **–°–µ–∫—Ä–µ—Ç—ã –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∫–æ–¥–µ/–∫–æ–Ω—Ñ–∏–≥–∞—Ö**:
  - **SQL login** —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ **Windows Credential Manager**
  - **API key** —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ë–î –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ
