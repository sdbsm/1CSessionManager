# 1C Session Manager

–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–µ—Å—Å–∏–π 1–°:–ü—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–µ —á–µ—Ä–µ–∑ RAC (Remote Administration Console).
–ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∑–∞–≤–∏—Å—à–∏–µ —Å–µ—Å—Å–∏–∏, –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–≤–µ—Ä—à–∞—Ç—å –∏—Ö –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é –∏ —Å–æ–±–∏—Ä–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ª–∏—Ü–µ–Ω–∑–∏–π.

---

## üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è –Ω–æ–≤–∏—á–∫–∞

–ó–¥–µ—Å—å –æ–ø–∏—Å–∞–Ω–æ, –∫–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –∫–∞–∫ —Å–æ–±—Ä–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π —É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª (`setup.exe`).

### üõ†Ô∏è 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–°–¥–µ–ª–∞—Ç—å –æ–¥–∏–Ω —Ä–∞–∑)

–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã:

1.  **[Node.js (LTS)](https://nodejs.org/)** ‚Äî –Ω—É–∂–µ–Ω –¥–ª—è —Å–±–æ—Ä–∫–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (–∫—Ä–∞—Å–∏–≤–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞).
2.  **[.NET 10 SDK (Preview)](https://dotnet.microsoft.com/download/dotnet/10.0)** ‚Äî –Ω—É–∂–µ–Ω –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —á–∞—Å—Ç–∏.
    *   *–í–∞–∂–Ω–æ: –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–æ–≤–µ–π—à—É—é –≤–µ—Ä—Å–∏—é .NET 10.*
3.  **[Inno Setup 6](https://jrsoftware.org/isdl.php)** ‚Äî –Ω—É–∂–µ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Å—Ç–∞–ª—è—Ç–æ—Ä–∞ (`setup.exe`).
4.  **[SQL Server Express](https://www.microsoft.com/sql-server/sql-server-downloads)** ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å LocalDB, –µ—Å–ª–∏ –µ—Å—Ç—å Visual Studio).

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º, –æ—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞:

```powershell
# –ó–∞—Ö–æ–¥–∏–º –≤ –ø–∞–ø–∫—É UI
cd ui

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
npm install

# –í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –Ω–∞–∑–∞–¥
cd ..
```

---

### üíª 2. –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (Development)

–í —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É —É —Å–µ–±—è –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ, —á—Ç–æ–±—ã –ø–∏—Å–∞—Ç—å –∫–æ–¥ –∏ —Å—Ä–∞–∑—É –≤–∏–¥–µ—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è.
–í–∞–º –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è **3 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –æ–∫–Ω–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞**.

#### –¢–µ—Ä–º–∏–Ω–∞–ª 1: –ó–∞–ø—É—Å–∫ Frontend (UI)
–≠—Ç–æ—Ç —Ç–µ—Ä–º–∏–Ω–∞–ª –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å —Å–∞–π—Ç –∏ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –µ–≥–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–¥–∞.

```powershell
cd ui
npm run dev
```
*   –°–∞–π—Ç –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:5173` (–∏–ª–∏ –ø–æ—Ö–æ–∂–∏–π).
*   –í —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ —Å–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ, –Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –±—ç–∫–µ–Ω–¥ (`localhost:5000`).

#### –¢–µ—Ä–º–∏–Ω–∞–ª 2: –ó–∞–ø—É—Å–∫ Backend (Control)
–≠—Ç–æ —Å–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å (API), –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –æ—Ç —Å–∞–π—Ç–∞.

```powershell
cd dotnet
dotnet run --project src/1CSessionManager.Control
```
*   –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ `http://localhost:5000`.

#### –¢–µ—Ä–º–∏–Ω–∞–ª 3: –ó–∞–ø—É—Å–∫ Agent
–≠—Ç–æ —Ñ–æ–Ω–æ–≤–∞—è —Å–ª—É–∂–±–∞, –∫–æ—Ç–æ—Ä–∞—è –æ–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä—ã 1–° —á–µ—Ä–µ–∑ —É—Ç–∏–ª–∏—Ç—É `rac.exe`.

```powershell
cd dotnet
dotnet run --project src/1CSessionManager.Agent
```

---

### üì¶ 3. –°–±–æ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–∞ (Production)

–ö–æ–≥–¥–∞ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–æ–±—Ä–∞—Ç—å –≥–æ—Ç–æ–≤—É—é –≤–µ—Ä—Å–∏—é –ø—Ä–æ–≥—Ä–∞–º–º—ã –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä (–∏–ª–∏ –ø–µ—Ä–µ–¥–∞—Ç—å –∑–∞–∫–∞–∑—á–∏–∫—É).

1.  –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.
2.  –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏:

```powershell
.\dotnet\deploy\windows\build-installer.ps1
```

**–ß—Ç–æ —Å–¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç?**
1.  –°–æ–±–µ—Ä–µ—Ç React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥) –≤ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã.
2.  –°–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç .NET –∫–æ–¥ (–±—ç–∫–µ–Ω–¥) –≤ —Ä–µ–∂–∏–º–µ Release.
3.  –ó–∞–ø—É—Å—Ç–∏—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä Inno Setup, –∫–æ—Ç–æ—Ä—ã–π —É–ø–∞–∫—É–µ—Ç –≤—Å—ë –≤ –æ–¥–∏–Ω `.exe` —Ñ–∞–π–ª.

‚úÖ **–ì–¥–µ –∏—Å–∫–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
–ì–æ—Ç–æ–≤—ã–π –∏–Ω—Å—Ç–∞–ª—è—Ç–æ—Ä –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å:
`dotnet/dist/1CSessionManagerSetup.exe`

---

### üíø 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

1.  –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `1CSessionManagerSetup.exe` –Ω–∞ —Ü–µ–ª–µ–≤–æ–π —Å–µ—Ä–≤–µ—Ä.
2.  –ó–∞–ø—É—Å—Ç–∏—Ç–µ –µ–≥–æ. –û—Ç–∫—Ä–æ–µ—Ç—Å—è –º–∞—Å—Ç–µ—Ä —É—Å—Ç–∞–Ω–æ–≤–∫–∏.
3.  **–í–∞–∂–Ω–æ:** –ü–æ—Å—Ç–∞–≤—å—Ç–µ –≥–∞–ª–æ—á–∫—É **"–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–∞–∫ —Å–ª—É–∂–±—É Windows"**, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Ä–∞–±–æ—Ç–∞–ª–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ —Ñ–æ–Ω–µ.
4.  –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É —Å –ø—Ä–æ–≥—Ä–∞–º–º–æ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `C:\Program Files\1CSessionManager`) –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–∞–π–ª–∞—Ö:
    *   `control\appsettings.json`
    *   `agent\appsettings.json`
5.  –ï—Å–ª–∏ –≤—ã –≤—ã–±—Ä–∞–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∫—É —Å–ª—É–∂–±, –æ–Ω–∏ –∑–∞–ø—É—Å—Ç—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª—ã `.exe` –≤—Ä—É—á–Ω—É—é.

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏:**
–ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–æ–≤—ã–π –∏–Ω—Å—Ç–∞–ª—è—Ç–æ—Ä –ø–æ–≤–µ—Ä—Ö —Å—Ç–∞—Ä–æ–≥–æ. –û–Ω —Å–∞–º:
*   –û—Å—Ç–∞–Ω–æ–≤–∏—Ç —Å–ª—É–∂–±—ã.
*   –°–¥–µ–ª–∞–µ—Ç —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –≤–∞—à–∏—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤ (`appsettings.json`).
*   –£–¥–∞–ª–∏—Ç —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é.
*   –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –Ω–æ–≤—É—é.
*   –í–µ—Ä–Ω–µ—Ç –≤–∞—à–∏ –∫–æ–Ω—Ñ–∏–≥–∏ –Ω–∞ –º–µ—Å—Ç–æ.
*   –ó–∞–ø—É—Å—Ç–∏—Ç —Å–ª—É–∂–±—ã –æ–±—Ä–∞—Ç–Ω–æ.

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

*   **UI (Frontend)**: React, Vite, TypeScript.
    *   –ü–∞–ø–∫–∞: `ui/`
*   **Control (Backend)**: ASP.NET Core Web API. –†–∞–∑–¥–∞–µ—Ç —Å—Ç–∞—Ç–∏–∫—É UI –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç API –∑–∞–ø—Ä–æ—Å—ã.
    *   –ü–∞–ø–∫–∞: `dotnet/src/1CSessionManager.Control`
*   **Agent (Service)**: –§–æ–Ω–æ–≤–∞—è —Å–ª—É–∂–±–∞ (.NET Worker). –í—ã–ø–æ–ª–Ω—è–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏ —á–µ—Ä–µ–∑ `rac.exe`.
    *   –ü–∞–ø–∫–∞: `dotnet/src/1CSessionManager.Agent`
*   **Database**: SQL Server + Entity Framework Core.
